<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shop Generator</title>
    <link rel="stylesheet" href="styles.css">
	<link rel="stylesheet" href="descriptor-styles.css">
</head>
<body>
    <div class="container">
        <h1>Shop Generator</h1>
        <!--<p class="subtitle">Create dynamic merchant inventories for your campaign</p> -->

<!-- Tab Navigation -->
<div class="tabs">
	<div class="tab active" onclick="switchTab('generator')">Shop Generator</div>
	<div class="tab" onclick="switchTab('itemlist')">Official Items</div>
	<div class="tab" onclick="switchTab('homebrew')">Homebrew Items</div>
	<div class="tab" onclick="switchTab('loot')">Loot Generator</div>
	<div class="tab" onclick="switchTab('savedstores')">Saved Stores</div>
</div>

		<div id="generator-tab" class="tab-content active">
			<div class="controls">
				<div class="control-group">
					<label for="store-type">Store Type</label>
					<select id="store-type">
						<option value="general">General Store (Everything)</option>
						<option value="weaponsmith">Weaponsmith (Weapons, Armor, Ammunition)</option>
						<option value="outfitter">Outfitter (Common Adventuring Gear)</option>
						<option value="armorer">Armorer (Armor, Apparel) </option>
						<option value="magic">Magic Shop (Wands, Scrolls, Enchantments)</option>
						<option value="apothecary">Apothecary (Potions & Elixirs)</option>
						<option value="clothier">Clothier (Apparel & Accessories)</option>
						<option value="curiosities">Curiosities (Magical Oddities)</option>
					</select>
				</div>

				<div class="control-group">
					<label for="settlement-size">Settlement Size</label>
					<select id="settlement-size" onchange="updateRarityDefaults()">
						<option value="hamlet">Hamlet (Very Small Selection)</option>
						<option value="village">Village (Small Selection)</option>
						<option value="town" selected>Town (Medium Selection)</option>
						<option value="smallcity" selected>Small City (Large Selection)</option>						
						<option value="city">City (Very Large Selection)</option>
						<option value="metropolis">Metropolis (Extra Rare Selection)</option>

					</select>
				</div>

				<div class="control-group">
				    <label for="wealth-level">Shop Wealth</label>
					<select id="wealth-level" onchange="updatePriceModifierFromWealth()">
				        <option value="squalid">Squalid (100-500g)</option>
				        <option value="common" selected>Common (500-2000g)</option>
				        <option value="respectable">Respectable (2000-5000g)</option>
				        <option value="prosperous">Prosperous (5000-15000g)</option>
				        <option value="fortunate">Fortunate (15000-50000g)</option>
				    </select>
				</div>

				<div class="control-group">
					<label for="price-modifier">Max Price Modifier (%)</label>
					<input type="number" id="price-modifier" min="100" max="200" value="100" step="5">
				</div>

				<div class="control-group" style="grid-column: span 2; justify-content: flex-end;">
					<label style="opacity: 0;">Generate</label>
					<button onclick="generateShop()">Generate Shop</button>

				</div>
				<div class="control-group" style="grid-column: span 2; justify-content: flex-end;">
					<label style="opacity: 0;">Save Store</label>
					<button onclick="saveCurrentStore()" style="background: linear-gradient(135deg, #2c6b4f 0%, #1a4a37 100%);">üíæ Save Store</button>
				</div>

			</div>
			

			<!-- ADVANCED OPTIONS TOGGLE -->
			<div class="control-group" style="grid-column: span 2;">
			    <label style="display: flex; align-items: center; cursor: pointer;">
			        <input type="checkbox" id="use-custom-limits" onchange="toggleCustomLimits()" style="width: auto; margin-right: 8px;">
			        <span style="text-transform: none; letter-spacing: normal;">‚öôÔ∏è Use Custom Item Limits (Advanced)</span>
			    </label>
			</div>
			
			<!-- HIDDEN CUSTOM LIMITS SECTION -->
			<div id="custom-limits-container" class="custom-limits-container" style="display: none;">
			    <div class="custom-limits-header">
			        <span>Custom Item Limits</span>
			        <small>Override automatic inventory sizing</small>
			    </div>

				<div class="custom-limits-grid">
					<div class="control-group">
						<label>Maximum Rarity</label>
						<select id="max-rarity">
							<option value="mundane">Mundane</option>
							<option value="common">Common</option>
							<option value="uncommon">Uncommon</option>
							<option value="rare" selected>Rare</option>
							<option value="veryrare">Very Rare</option>
							<option value="legendary">Legendary</option>
						</select>
					</div>
				        <div class="control-group">
						<label for="allow-homebrew">Allow Homebrew Items</label>
						<input type="checkbox" id="allow-homebrew" onchange="updateItemDatabase()">
					</div>
				</div>
		
			    <div class="custom-limits-grid">
			        <div class="control-group">
			            <label for="max-mundane">Max Mundane</label>
			            <input type="number" id="max-mundane" min="0" max="100" value="16" step="1">
			        </div>
			
			        <div class="control-group">
			            <label for="max-common">Max Common</label>
			            <input type="number" id="max-common" min="0" max="50" value="11" step="1">
			        </div>
			
			        <div class="control-group">
			            <label for="max-uncommon">Max Uncommon</label>
			            <input type="number" id="max-uncommon" min="0" max="50" value="8" step="1">
			        </div>
			
			        <div class="control-group">
			            <label for="max-rare">Max Rare</label>
			            <input type="number" id="max-rare" min="0" max="50" value="5" step="1">
			        </div>
			
			        <div class="control-group">
			            <label for="max-veryrare">Max Very Rare</label>
			            <input type="number" id="max-veryrare" min="0" max="50" value="1" step="1">
			        </div>
			
			        <div class="control-group">
			            <label for="max-legendary">Max Legendary</label>
			            <input type="number" id="max-legendary" min="0" max="50" value="1" step="1">
			        </div>

			    </div>
			</div>




		</div>
		



        <div id="shop-content" class="empty-state">
            <p>Click "Generate Shop" to create your merchant's inventory!</p>
        </div>
    </div>
	 <!-- Item List Tab -->
    <div id="itemlist-tab" class="tab-content">
        <div class="search-filter-bar">
            <input type="text" id="item-search" placeholder="Search items..." style="flex: 1; min-width: 200px;">
            <select id="filter-type">
                <option value="">All Types</option>
                <option value="Weapon">Weapons</option>
                <option value="Armor">Armor</option>
                <option value="Ammunition">Ammunition</option>
                <option value="Apperal">Apparel</option>
                <option value="Jewelry">Jewelry</option>
                <option value="Misc">Misc</option>
            </select>
            <select id="filter-rarity">
                <option value="">All Rarities</option>
                <option value="Mundane">Mundane</option>
                <option value="Common">Common</option>
                <option value="Uncommon">Uncommon</option>
                <option value="Rare">Rare</option>
                <option value="Very Rare">Very Rare</option>
                <option value="Legendary">Legendary</option>
            </select>
            <button onclick="applyItemFilters()">Filter</button>
            <button onclick="resetItemFilters()">Reset</button>
        </div>

		
		
        <div style="overflow-x: auto;">
            <table class="item-list-table" id="item-table">
                <thead>
				    <tr>
				        <th style="width: 60px;">Include</th>
				        <th style="cursor: pointer;" onclick="if(typeof sortItemList === 'function') sortItemList('name')">Name ‚ñ≤‚ñº</th>
				        <th style="cursor: pointer;" onclick="if(typeof sortItemList === 'function') sortItemList('cost')">Cost (gp) ‚ñ≤‚ñº</th>
				        <th style="cursor: pointer;" onclick="if(typeof sortItemList === 'function') sortItemList('type')">Type ‚ñ≤‚ñº</th>
				        <th style="cursor: pointer;" onclick="if(typeof sortItemList === 'function') sortItemList('rarity')">Rarity ‚ñ≤‚ñº</th>
				        <th>Description</th>
				        <th>Actions</th>
				    </tr>
				</thead>
                <tbody id="item-table-body">
                    <!-- Items will be populated here -->
                </tbody>
            </table>
        </div>
    </div>

	 <!-- Homebrew Item List Tab -->
    <div id="homebrew-tab" class="tab-content">
        <div class="search-filter-bar">
            <input type="text" id="homebrew-search" placeholder="Search homebrew items..." style="flex: 1; min-width: 200px;">
            <select id="homebrew-filter-type">
                <option value="">All Types</option>
                <option value="Weapon">Weapons</option>
                <option value="Armor">Armor</option>
                <option value="Shield">Shields</option>
                <option value="Amulet">Amulets</option>
                <option value="Ring">Rings</option>
                <option value="Cloak">Cloaks</option>
                <option value="Boots">Boots</option>
                <option value="Gloves">Gloves</option>
                <option value="Headwear">Headwear</option>
                <option value="Clothing">Clothing</option>
            </select>
            <select id="homebrew-filter-rarity">
                <option value="">All Rarities</option>
                <option value="Mundane">Mundane</option>
                <option value="Common">Common</option>
                <option value="Uncommon">Uncommon</option>
                <option value="Rare">Rare</option>
                <option value="Very Rare">Very Rare</option>
                <option value="Legendary">Legendary</option>
            </select>
            <button onclick="applyHomebrewFilters()">Filter</button>
            <button onclick="resetHomebrewFilters()">Reset</button>
        </div>

        <div style="overflow-x: auto;">
            <table class="item-list-table" id="homebrew-table">
				<thead>
				    <tr>
				        <th style="width: 60px;">Include</th>
				        <th style="cursor: pointer;" onclick="if(typeof sortHomebrewList === 'function') sortHomebrewList('name')">Name ‚ñ≤‚ñº</th>
				        <th style="cursor: pointer;" onclick="if(typeof sortHomebrewList === 'function') sortHomebrewList('cost')">Cost (gp) ‚ñ≤‚ñº</th>
				        <th style="cursor: pointer;" onclick="if(typeof sortHomebrewList === 'function') sortHomebrewList('type')">Type ‚ñ≤‚ñº</th>
				        <th style="cursor: pointer;" onclick="if(typeof sortHomebrewList === 'function') sortHomebrewList('rarity')">Rarity ‚ñ≤‚ñº</th>
				        <th>Description</th>
				        <th>Actions</th>
				    </tr>
				</thead>
                <tbody id="homebrew-table-body">
                    <!-- Homebrew items will be populated here -->
                </tbody>
            </table>
        </div>
    </div>

	<!-- Saved Stores Tab -->
	<div id="savedstores-tab" class="tab-content">
		<!-- Content will be populated by JavaScript -->
	</div>

	<!-- Loot Generator Tab -->
<div id="loot-tab" class="tab-content">
    <div class="loot-subtabs">
        <button class="loot-subtab active" onclick="switchLootTab('combat')">Combat Loot</button>
        <button class="loot-subtab" onclick="switchLootTab('hoard')">Treasure Hoard</button>
    </div>

    <!-- Combat Loot Section -->
    <div id="combat-loot" class="loot-section active">
        <div class="controls">
            <div class="control-group">
                <label for="party-level">Average Party Level</label>
                <input type="number" id="party-level" min="1" max="20" value="5" step="1">
            </div>

            <div class="control-group">
                <label for="encounter-cr">Encounter CR</label>
                <input type="number" id="encounter-cr" min="0" max="30" value="5" step="0.5">
            </div>

            <div class="control-group">
                <label for="num-creatures">Number of Creatures</label>
                <input type="number" id="num-creatures" min="1" max="20" value="4" step="1">
            </div>

            <div class="control-group">
                <label for="creature-type">Creature Type</label>
                <select id="creature-type">
                    <option value="humanoid">Humanoid</option>
                    <option value="beast">Beast</option>
                    <option value="dragon">Dragon</option>
                    <option value="undead">Undead</option>
                    <option value="fiend">Fiend</option>
                    <option value="celestial">Celestial</option>
                    <option value="fey">Fey</option>
                    <option value="elemental">Elemental</option>
                    <option value="aberration">Aberration</option>
                    <option value="monstrosity">Monstrosity</option>
                    <option value="giant">Giant</option>
                    <option value="construct">Construct</option>
                </select>
            </div>

            <div class="control-group">
                <label for="boss-loot">Include Boss Loot</label>
                <input type="checkbox" id="boss-loot">
            </div>

			<div class="control-group">
			    <label for="combat-include-magic">Include Magic Items</label>
			    <input type="checkbox" id="combat-include-magic">
			</div>
			
			<div class="control-group">
			    <label for="combat-include-homebrew">Include Homebrew Items</label>
			    <input type="checkbox" id="combat-include-homebrew">
			</div>
			
			<div class="control-group">
			    <label for="boss-loot">Include Boss Loot</label>
			    <input type="checkbox" id="boss-loot">
			</div>

            <div class="control-group" style="grid-column: span 2; justify-content: flex-end;">
                <button onclick="generateCombatLoot()">Generate Combat Loot</button>
            </div>
        </div>
    </div>

    <!-- Treasure Hoard Section -->
    <div id="hoard-loot" class="loot-section">
        <div class="controls">
            <div class="control-group">
                <label for="hoard-cr-tier">CR Tier</label>
                <select id="hoard-cr-tier">
                    <option value="0-4">0-4 (Low Level)</option>
                    <option value="5-10" selected>5-10 (Mid Level)</option>
                    <option value="11-16">11-16 (High Level)</option>
                    <option value="17+">17+ (Epic Level)</option>
                </select>
            </div>

            <div class="control-group">
                <label for="hoard-size">Hoard Size</label>
                <select id="hoard-size">
                    <option value="small">Small</option>
                    <option value="medium" selected>Medium</option>
                    <option value="large">Large</option>
                    <option value="legendary">Legendary</option>
                </select>
            </div>

            <div class="control-group">
                <label for="hoard-theme">Hoard Theme</label>
                <select id="hoard-theme">
                    <option value="generic">Generic</option>
                    <option value="dragon">Dragon's Hoard</option>
                    <option value="undead">Undead Crypt</option>
                    <option value="fey">Fey Treasury</option>
                    <option value="elemental">Elemental Vault</option>
                    <option value="planar">Planar Nexus</option>
                    <option value="pirate">Pirate Cache</option>
                    <option value="noble">Noble Estate</option>
                    <option value="ancient">Ancient Ruin</option>
                </select>
            </div>

            <div class="control-group" style="grid-column: span 2; justify-content: flex-end;">
                <button onclick="generateTreasureHoard()">Generate Treasure Hoard</button>
            </div>
        </div>
    </div>

    <!-- Loot Display Area -->
    <div id="loot-content" class="empty-state">
        <p>Configure your loot parameters and click generate!</p>
    </div>
</div>
	
    <script src="script.js"></script>
</body>
</html>
